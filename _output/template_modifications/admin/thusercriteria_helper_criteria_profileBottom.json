{
    "template": "helper_criteria",
    "description": "Add user criteria after profile_bottom hook.",
    "execution_order": 10,
    "enabled": true,
    "action": "str_replace",
    "find": "<!--[XF:user:profile_bottom]-->",
    "replace": "$0\n\n<xf:optgroup label=\"{{ phrase('th_usercriteria_location:') }}\">\n\t<xf:set var=\"$fieldNameLocation\" value=\"{$xf.options.thusercriteria_prefix}location\" />\n\t<xf:option name=\"user_criteria[{$fieldNameLocation}][rule]\" value=\"{$fieldNameLocation}\" selected=\"{$criteria.{$fieldNameLocation}}\"\n\t\t\t   label=\"{{ phrase('th_usercriteria_user_has_filled_in_location') }}\" />\n\n\t<xf:set var=\"$fieldNameNotLocation\" value=\"{$xf.options.thusercriteria_prefix}not_location\" />\n\t<xf:option name=\"user_criteria[{$fieldNameNotLocation}][rule]\" value=\"{$fieldNameNotLocation}\" selected=\"{$criteria.{$fieldNameNotLocation}}\"\n\t\t\t   label=\"{{ phrase('th_usercriteria_user_has_not_filled_in_location') }}\"/>\n</xf:optgroup>\n\n<xf:optgroup label=\"{{ phrase('thusercriteria_about_you:') }}\">\n\t<xf:set var=\"$fieldNameAbout\" value=\"{$xf.options.thusercriteria_prefix}with_about_you\" />\n\t<xf:option name=\"user_criteria[{$fieldNameAbout}][rule]\" value=\"{$fieldNameAbout}\" selected=\"{$criteria.{$fieldNameAbout}}\"\n\t\t\t   label=\"{{ phrase('thusercriteria_user_has_filled_in_about_you') }}\" />\n\n\t<xf:set var=\"$fieldNameNotAbout\" value=\"{$xf.options.thusercriteria_prefix}without_about_you\" />\n\t<xf:option name=\"user_criteria[{$fieldNameNotAbout}][rule]\" value=\"{$fieldNameNotAbout}\" selected=\"{$criteria.{$fieldNameNotAbout}}\"\n\t\t\t   label=\"{{ phrase('thusercriteria_user_has_not_filled_in_about_you') }}\"/>\n</xf:optgroup>\n\n<xf:optgroup label=\"{{ phrase('thusercriteria_signature:') }}\">\n\t<xf:set var=\"$fieldNameSignature\" value=\"{$xf.options.thusercriteria_prefix}with_signature\" />\n\t<xf:option name=\"user_criteria[{$fieldNameSignature}][rule]\" value=\"{$fieldNameSignature}\" selected=\"{$criteria.{$fieldNameSignature}}\"\n\t\t\t   label=\"{{ phrase('thusercriteria_user_has_signature') }}\" />\n\n\t<xf:set var=\"$fieldNameNotSignature\" value=\"{$xf.options.thusercriteria_prefix}without_signature\" />\n\t<xf:option name=\"user_criteria[{$fieldNameNotSignature}][rule]\" value=\"{$fieldNameNotSignature}\" selected=\"{$criteria.{$fieldNameNotSignature}}\"\n\t\t\t   label=\"{{ phrase('thusercriteria_user_has_no_signature') }}\"/>\n</xf:optgroup>\n\n<xf:optgroup label=\"{{ phrase('thusercriteria_website:') }}\">\n\t<xf:set var=\"$fieldNameWebsite\" value=\"{$xf.options.thusercriteria_prefix}with_website\" />\n\t<xf:option name=\"user_criteria[{$fieldNameWebsite}][rule]\" value=\"{$fieldNameWebsite}\" selected=\"{$criteria.{$fieldNameWebsite}}\"\n\t\t\t   label=\"{{ phrase('thusercriteria_user_has_website') }}\" />\n\n\t<xf:set var=\"$fieldNameNotWebsite\" value=\"{$xf.options.thusercriteria_prefix}without_website\" />\n\t<xf:option name=\"user_criteria[{$fieldNameNotWebsite}][rule]\" value=\"{$fieldNameNotWebsite}\" selected=\"{$criteria.{$fieldNameNotWebsite}}\"\n\t\t\t   label=\"{{ phrase('thusercriteria_user_has_no_website') }}\"/>\n</xf:optgroup>\n\n<xf:optgroup label=\"{{ phrase('thusercriteria_custom_title:') }}\">\n\t<xf:set var=\"$fieldNameTitle\" value=\"{$xf.options.thusercriteria_prefix}user_title\" />\n\t<xf:option name=\"user_criteria[{$fieldNameTitle}][rule]\" value=\"{$fieldNameTitle}\" selected=\"{$criteria.{$fieldNameTitle}}\"\n\t\t\t   label=\"{{ phrase('thusercriteria_user_has_custom_title') }}\" />\n\n\t<xf:set var=\"$fieldNameNotTitle\" value=\"{$xf.options.thusercriteria_prefix}no_user_title\" />\n\t<xf:option name=\"user_criteria[{$fieldNameNotTitle}][rule]\" value=\"{$fieldNameNotTitle}\" selected=\"{$criteria.{$fieldNameNotTitle}}\"\n\t\t\t   label=\"{{ phrase('thusercriteria_user_has_no_custom_title') }}\"/>\n\n\t<xf:set var=\"$fieldNameTitleRegex\" value=\"{$xf.options.thusercriteria_prefix}user_title_regex\" />\n\t<xf:option name=\"user_criteria[{$fieldNameTitleRegex}][rule]\" value=\"{$fieldNameTitleRegex}\" selected=\"{$criteria.{$fieldNameTitleRegex}}\"\n\t\t\t   label=\"{{ phrase('th_usercriteria_user_title_matches_regex:') }}\">\n\t\t<xf:textbox name=\"user_criteria[{$fieldNameTitleRegex}][data][regex]\" value=\"{$criteria.{$fieldNameTitleRegex}.regex}\" />\n\t</xf:option>\n\n\t<xf:set var=\"$fieldNameTitleNotRegex\" value=\"{$xf.options.thusercriteria_prefix}not_user_title_regex\" />\n\t<xf:option name=\"user_criteria[{$fieldNameTitleNotRegex}][rule]\" value=\"{$fieldNameTitleNotRegex}\" selected=\"{$criteria.{$fieldNameTitleNotRegex}}\"\n\t\t\t   label=\"{{ phrase('th_usercriteria_user_title_does_not_matches_regex:') }}\">\n\t\t<xf:textbox name=\"user_criteria[{$fieldNameTitleNotRegex}][data][regex]\" value=\"{$criteria.{$fieldNameTitleNotRegex}.regex}\" />\n\t</xf:option>\n</xf:optgroup>\n\n<xf:optgroup label=\"{{ phrase('th_usercriteria_birthday:') }}\">\n\t<xf:set var=\"$fieldNameAge\" value=\"{$xf.options.thusercriteria_prefix}age\" />\n\t<xf:option name=\"user_criteria[{$fieldNameAge}][rule]\" value=\"{$fieldNameAge}\" selected=\"{$criteria.{$fieldNameAge}}\"\n\t\t\t   label=\"{{ phrase('th_usercriteria_user_is_at_least_x_years_old:') }}\">\n\t\t<xf:numberbox name=\"user_criteria[{$fieldNameAge}][data][years]\" value=\"{$criteria.{$fieldNameAge}.years}\"\n\t\t\t\t\t  size=\"5\" min=\"1\" step=\"1\" />\n\t</xf:option>\n\n\t<xf:set var=\"$fieldNameMaxAge\" value=\"{$xf.options.thusercriteria_prefix}max_age\" />\n\t<xf:option name=\"user_criteria[{$fieldNameMaxAge}][rule]\" value=\"{$fieldNameMaxAge}\" selected=\"{$criteria.{$fieldNameMaxAge}}\"\n\t\t\t   label=\"{{ phrase('th_usercriteria_user_is_no_more_than_x_years_old:') }}\">\n\t\t<xf:numberbox name=\"user_criteria[{$fieldNameMaxAge}][data][years]\" value=\"{$criteria.{$fieldNameMaxAge}.years}\"\n\t\t\t\t\t  size=\"5\" min=\"1\" step=\"1\" />\n\t</xf:option>\n\n\t<xf:set var=\"$fieldNameBirthDay\" value=\"{$xf.options.thusercriteria_prefix}birth_day\" />\n\t<xf:option name=\"user_criteria[{$fieldNameBirthDay}][rule]\" value=\"{$fieldNameBirthDay}\" selected=\"{$criteria.{$fieldNameBirthDay}}\"\n\t\t\t   label=\"{{ phrase('th_usercriteria_user_birth_day_is:') }}\">\n\t\t<xf:numberbox name=\"user_criteria[{$fieldNameBirthDay}][data][day]\" value=\"{$criteria.{$fieldNameBirthDay}.day}\"\n\t\t\t\t\t  size=\"5\" min=\"1\" max=\"31\" step=\"1\" />\n\t</xf:option>\n\n\t<xf:set var=\"$fieldNameBirthMonth\" value=\"{$xf.options.thusercriteria_prefix}birth_month\" />\n\t<xf:option name=\"user_criteria[{$fieldNameBirthMonth}][rule]\" value=\"{$fieldNameBirthMonth}\" selected=\"{$criteria.{$fieldNameBirthMonth}}\"\n\t\t\t   label=\"{{ phrase('th_usercriteria_birth_month_is:') }}\">\n\t\t<xf:numberbox name=\"user_criteria[{$fieldNameBirthMonth}][data][month]\" value=\"{$criteria.{$fieldNameBirthMonth}.month}\"\n\t\t\t\t\t  size=\"5\" min=\"1\" max=\"12\" step=\"1\" />\n\t</xf:option>\n\n\t<xf:set var=\"$fieldNameBirthYear\" value=\"{$xf.options.thusercriteria_prefix}birth_year\" />\n\t<xf:option name=\"user_criteria[{$fieldNameBirthYear}][rule]\" value=\"{$fieldNameBirthYear}\" selected=\"{$criteria.{$fieldNameBirthYear}}\"\n\t\t\t   label=\"{{ phrase('th_usercriteria_birth_year_is:') }}\">\n\t\t<xf:numberbox name=\"user_criteria[{$fieldNameBirthYear}][data][year]\" value=\"{$criteria.{$fieldNameBirthYear}.year}\"\n\t\t\t\t\t  size=\"5\" min=\"0\" step=\"1\" />\n\t</xf:option>\n</xf:optgroup>\n\n<xf:optgroup label=\"{{ phrase('th_usercriteria_visibility:') }}\">\n\t<xf:set var=\"$fieldNameVisible\" value=\"{$xf.options.thusercriteria_prefix}user_visible\" />\n\t<xf:option name=\"user_criteria[{$fieldNameVisible}][rule]\" value=\"{$fieldNameVisible}\" selected=\"{$criteria.{$fieldNameVisible}}\"\n\t\t\t   label=\"{{ phrase('th_usercriteria_user_is_surfing_visible') }}\" />\n\n\t<xf:set var=\"$fieldNameNotVisible\" value=\"{$xf.options.thusercriteria_prefix}user_invisible\" />\n\t<xf:option name=\"user_criteria[{$fieldNameNotVisible}][rule]\" value=\"{$fieldNameNotVisible}\" selected=\"{$criteria.{$fieldNameNotVisible}}\"\n\t\t\t   label=\"{{ phrase('th_usercriteria_user_is_surfing_invisible') }}\"/>\n</xf:optgroup>\n\n<xf:optgroup label=\"{{ phrase('th_usercriteria_activity:') }}\">\n\t<xf:set var=\"$fieldNameLastActivity\" value=\"{$xf.options.thusercriteria_prefix}last_activity\" />\n\t<xf:option name=\"user_criteria[{$fieldNameLastActivity}][rule]\" value=\"{$fieldNameLastActivity}\" selected=\"{$criteria.{$fieldNameLastActivity}}\"\n\t\t\t   label=\"{{ phrase('th_usercriteria_user_has_been_active_in_the_last_x_minutes') }}\">\n\t\t<xf:numberbox name=\"user_criteria[{$fieldNameLastActivity}][data][minutes]\"\n\t\t\t\t\t  value=\"{$criteria.{$fieldNameLastActivity}.minutes}\"\n\t\t\t\t\t  units=\"{{ phrase('th_usercriteria_minutes') }}\"\n\t\t\t\t\t  size=\"5\" min=\"0\" step=\"1\" />\n\t</xf:option>\n\n\t<xf:set var=\"$fieldNameMaxLastActivity\" value=\"{$xf.options.thusercriteria_prefix}user_invisible\" />\n\t<xf:option name=\"user_criteria[{$fieldNameMaxLastActivity}][rule]\" value=\"{$fieldNameMaxLastActivity}\"\n\t\t\t   selected=\"{$criteria.{$fieldNameMaxLastActivity}}\"\n\t\t\t   label=\"{{ phrase('th_usercriteria_user_has_not_been_active_in_the_last_x_minutes') }}\">\n\t\t<xf:numberbox name=\"user_criteria[{$fieldNameMaxLastActivity}][data][minutes]\"\n\t\t\t\t\t  value=\"{$criteria.{$fieldNameMaxLastActivity}.minutes}\"\n\t\t\t\t\t  units=\"{{ phrase('th_usercriteria_minutes') }}\"\n\t\t\t\t\t  size=\"5\" min=\"0\" step=\"1\" />\n\t</xf:option>\n</xf:optgroup>"
}