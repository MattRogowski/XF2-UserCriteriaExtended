{
    "template": "helper_criteria",
    "description": "Add user criteria after profile_bottom hook.",
    "execution_order": 10,
    "enabled": true,
    "action": "str_replace",
    "find": "<!--[XF:user:profile_bottom]-->",
    "replace": "$0\n\n<xf:optgroup label=\"{{ phrase('th_usercriteria_location:') }}\">\n    <xf:set var=\"$fieldNameLocation\" value=\"{$xf.options.thusercriteria_prefix}location\" />\n    <xf:option name=\"user_criteria[{$fieldNameLocation}][rule]\" value=\"{$fieldNameLocation}\" selected=\"{$criteria.{$fieldNameLocation}}\"\n               label=\"{{ phrase('th_usercriteria_user_has_filled_in_location') }}\" />\n\n    <xf:set var=\"$fieldNameNotLocation\" value=\"{$xf.options.thusercriteria_prefix}not_location\" />\n    <xf:option name=\"user_criteria[{$fieldNameNotLocation}][rule]\" value=\"{$fieldNameNotLocation}\" selected=\"{$criteria.{$fieldNameNotLocation}}\"\n               label=\"{{ phrase('th_usercriteria_user_has_not_filled_in_location') }}\"/>\n</xf:optgroup>\n\n<xf:optgroup label=\"{{ phrase('thusercriteria_about_you:') }}\">\n    <xf:set var=\"$fieldNameAbout\" value=\"{$xf.options.thusercriteria_prefix}with_about_you\" />\n    <xf:option name=\"user_criteria[{$fieldNameAbout}][rule]\" value=\"{$fieldNameAbout}\" selected=\"{$criteria.{$fieldNameAbout}}\"\n               label=\"{{ phrase('thusercriteria_user_has_filled_in_about_you') }}\" />\n\n    <xf:set var=\"$fieldNameNotAbout\" value=\"{$xf.options.thusercriteria_prefix}without_about_you\" />\n    <xf:option name=\"user_criteria[{$fieldNameNotAbout}][rule]\" value=\"{$fieldNameNotAbout}\" selected=\"{$criteria.{$fieldNameNotAbout}}\"\n               label=\"{{ phrase('thusercriteria_user_has_not_filled_in_about_you') }}\"/>\n</xf:optgroup>\n\n<xf:optgroup label=\"{{ phrase('thusercriteria_signature:') }}\">\n    <xf:set var=\"$fieldNameSignature\" value=\"{$xf.options.thusercriteria_prefix}with_signature\" />\n    <xf:option name=\"user_criteria[{$fieldNameSignature}][rule]\" value=\"{$fieldNameSignature}\" selected=\"{$criteria.{$fieldNameSignature}}\"\n               label=\"{{ phrase('thusercriteria_user_has_signature') }}\" />\n\n    <xf:set var=\"$fieldNameNotSignature\" value=\"{$xf.options.thusercriteria_prefix}without_signature\" />\n    <xf:option name=\"user_criteria[{$fieldNameNotSignature}][rule]\" value=\"{$fieldNameNotSignature}\" selected=\"{$criteria.{$fieldNameNotSignature}}\"\n               label=\"{{ phrase('thusercriteria_user_has_no_signature') }}\"/>\n</xf:optgroup>\n\n<xf:optgroup label=\"{{ phrase('thusercriteria_website:') }}\">\n    <xf:set var=\"$fieldNameWebsite\" value=\"{$xf.options.thusercriteria_prefix}with_website\" />\n    <xf:option name=\"user_criteria[{$fieldNameWebsite}][rule]\" value=\"{$fieldNameWebsite}\" selected=\"{$criteria.{$fieldNameWebsite}}\"\n               label=\"{{ phrase('thusercriteria_user_has_website') }}\" />\n\n    <xf:set var=\"$fieldNameNotWebsite\" value=\"{$xf.options.thusercriteria_prefix}without_website\" />\n    <xf:option name=\"user_criteria[{$fieldNameNotWebsite}][rule]\" value=\"{$fieldNameNotWebsite}\" selected=\"{$criteria.{$fieldNameNotWebsite}}\"\n               label=\"{{ phrase('thusercriteria_user_has_no_website') }}\"/>\n</xf:optgroup>\n\n<xf:optgroup label=\"{{ phrase('thusercriteria_custom_title:') }}\">\n    <xf:set var=\"$fieldNameTitle\" value=\"{$xf.options.thusercriteria_prefix}user_title\" />\n    <xf:option name=\"user_criteria[{$fieldNameTitle}][rule]\" value=\"{$fieldNameTitle}\" selected=\"{$criteria.{$fieldNameTitle}}\"\n               label=\"{{ phrase('thusercriteria_user_has_custom_title') }}\" />\n\n    <xf:set var=\"$fieldNameNotTitle\" value=\"{$xf.options.thusercriteria_prefix}no_user_title\" />\n    <xf:option name=\"user_criteria[{$fieldNameNotTitle}][rule]\" value=\"{$fieldNameNotTitle}\" selected=\"{$criteria.{$fieldNameNotTitle}}\"\n               label=\"{{ phrase('thusercriteria_user_has_no_custom_title') }}\"/>\n\n    <xf:set var=\"$fieldNameTitleRegex\" value=\"{$xf.options.thusercriteria_prefix}user_title_regex\" />\n    <xf:option name=\"user_criteria[{$fieldNameTitleRegex}][rule]\" value=\"{$fieldNameTitleRegex}\" selected=\"{$criteria.{$fieldNameTitleRegex}}\"\n               label=\"{{ phrase('th_usercriteria_user_title_matches_regex:') }}\">\n        <xf:textbox name=\"user_criteria[{$fieldNameTitleRegex}][data][regex]\" value=\"{$criteria.{$fieldNameTitleRegex}.regex}\" />\n    </xf:option>\n\n    <xf:set var=\"$fieldNameTitleNotRegex\" value=\"{$xf.options.thusercriteria_prefix}not_user_title_regex\" />\n    <xf:option name=\"user_criteria[{$fieldNameTitleNotRegex}][rule]\" value=\"{$fieldNameTitleNotRegex}\" selected=\"{$criteria.{$fieldNameTitleNotRegex}}\"\n               label=\"{{ phrase('th_usercriteria_user_title_does_not_matches_regex:') }}\">\n        <xf:textbox name=\"user_criteria[{$fieldNameTitleNotRegex}][data][regex]\" value=\"{$criteria.{$fieldNameTitleNotRegex}.regex}\" />\n    </xf:option>\n</xf:optgroup>\n\n<xf:optgroup label=\"{{ phrase('th_usercriteria_birthday:') }}\">\n    <xf:set var=\"$fieldNameAge\" value=\"{$xf.options.thusercriteria_prefix}age\" />\n    <xf:option name=\"user_criteria[{$fieldNameAge}][rule]\" value=\"{$fieldNameAge}\" selected=\"{$criteria.{$fieldNameAge}}\"\n               label=\"{{ phrase('th_usercriteria_user_is_at_least_x_years_old:') }}\">\n        <xf:numberbox name=\"user_criteria[{$fieldNameAge}][data][years]\" value=\"{$criteria.{$fieldNameAge}.years}\"\n                      size=\"5\" min=\"1\" step=\"1\" />\n    </xf:option>\n\n    <xf:set var=\"$fieldNameMaxAge\" value=\"{$xf.options.thusercriteria_prefix}max_age\" />\n    <xf:option name=\"user_criteria[{$fieldNameMaxAge}][rule]\" value=\"{$fieldNameMaxAge}\" selected=\"{$criteria.{$fieldNameMaxAge}}\"\n               label=\"{{ phrase('th_usercriteria_user_is_no_more_than_x_years_old:') }}\">\n        <xf:numberbox name=\"user_criteria[{$fieldNameMaxAge}][data][years]\" value=\"{$criteria.{$fieldNameMaxAge}.years}\"\n                      size=\"5\" min=\"1\" step=\"1\" />\n    </xf:option>\n\n    <xf:set var=\"$fieldNameBirthDay\" value=\"{$xf.options.thusercriteria_prefix}birth_day\" />\n    <xf:option name=\"user_criteria[{$fieldNameBirthDay}][rule]\" value=\"{$fieldNameBirthDay}\" selected=\"{$criteria.{$fieldNameBirthDay}}\"\n               label=\"{{ phrase('th_usercriteria_user_birth_day_is:') }}\">\n        <xf:numberbox name=\"user_criteria[{$fieldNameBirthDay}][data][day]\" value=\"{$criteria.{$fieldNameBirthDay}.day}\"\n                      size=\"5\" min=\"1\" max=\"31\" step=\"1\" />\n    </xf:option>\n\n    <xf:set var=\"$fieldNameBirthMonth\" value=\"{$xf.options.thusercriteria_prefix}birth_month\" />\n    <xf:option name=\"user_criteria[{$fieldNameBirthMonth}][rule]\" value=\"{$fieldNameBirthMonth}\" selected=\"{$criteria.{$fieldNameBirthMonth}}\"\n               label=\"{{ phrase('th_usercriteria_birth_month_is:') }}\">\n        <xf:numberbox name=\"user_criteria[{$fieldNameBirthMonth}][data][month]\" value=\"{$criteria.{$fieldNameBirthMonth}.month}\"\n                      size=\"5\" min=\"1\" max=\"12\" step=\"1\" />\n    </xf:option>\n\n    <xf:set var=\"$fieldNameBirthYear\" value=\"{$xf.options.thusercriteria_prefix}birth_year\" />\n    <xf:option name=\"user_criteria[{$fieldNameBirthYear}][rule]\" value=\"{$fieldNameBirthYear}\" selected=\"{$criteria.{$fieldNameBirthYear}}\"\n               label=\"{{ phrase('th_usercriteria_birth_year_is:') }}\">\n        <xf:numberbox name=\"user_criteria[{$fieldNameBirthYear}][data][year]\" value=\"{$criteria.{$fieldNameBirthYear}.year}\"\n                      size=\"5\" min=\"0\" step=\"1\" />\n    </xf:option>\n</xf:optgroup>\n\n<xf:optgroup label=\"{{ phrase('th_usercriteria_visibility:') }}\">\n    <xf:set var=\"$fieldNameVisible\" value=\"{$xf.options.thusercriteria_prefix}user_visible\" />\n    <xf:option name=\"user_criteria[{$fieldNameVisible}][rule]\" value=\"{$fieldNameVisible}\" selected=\"{$criteria.{$fieldNameVisible}}\"\n               label=\"{{ phrase('th_usercriteria_user_is_surfing_visible') }}\" />\n\n    <xf:set var=\"$fieldNameNotVisible\" value=\"{$xf.options.thusercriteria_prefix}user_invisible\" />\n    <xf:option name=\"user_criteria[{$fieldNameNotVisible}][rule]\" value=\"{$fieldNameNotVisible}\" selected=\"{$criteria.{$fieldNameNotVisible}}\"\n               label=\"{{ phrase('th_usercriteria_user_is_surfing_invisible') }}\"/>\n</xf:optgroup>\n\n<xf:optgroup label=\"{{ phrase('th_usercriteria_activity:') }}\">\n    <xf:set var=\"$fieldNameLastActivity\" value=\"{$xf.options.thusercriteria_prefix}last_activity\" />\n    <xf:option name=\"user_criteria[{$fieldNameLastActivity}][rule]\" value=\"{$fieldNameLastActivity}\" selected=\"{$criteria.{$fieldNameLastActivity}}\"\n               label=\"{{ phrase('th_usercriteria_user_has_been_active_in_the_last_x') }}\" hint=\"{{ phrase('th_usercriteria_user_activity_in_the_last_x_hint') }}\">\n        <xf:numberbox name=\"user_criteria[{$fieldNameLastActivity}][data][minutes]\"\n                      value=\"{$criteria.{$fieldNameLastActivity}.minutes}\"\n                      units=\"{{ phrase('th_usercriteria_minutes') }}\"\n                      size=\"5\" min=\"0\" step=\"1\" />\n        <xf:numberbox name=\"user_criteria[{$fieldNameLastActivity}][data][hours]\"\n                      value=\"{$criteria.{$fieldNameLastActivity}.hours}\"\n                      units=\"{{ phrase('th_usercriteria_hours') }}\"\n                      size=\"5\" min=\"0\" step=\"1\" />\n        <xf:numberbox name=\"user_criteria[{$fieldNameLastActivity}][data][days]\"\n                      value=\"{$criteria.{$fieldNameLastActivity}.days}\"\n                      units=\"{{ phrase('th_usercriteria_days') }}\"\n                      size=\"5\" min=\"0\" step=\"1\" />\n        <xf:numberbox name=\"user_criteria[{$fieldNameLastActivity}][data][weeks]\"\n                      value=\"{$criteria.{$fieldNameLastActivity}.weeks}\"\n                      units=\"{{ phrase('th_usercriteria_weeks') }}\"\n                      size=\"5\" min=\"0\" step=\"1\" />\n        <xf:numberbox name=\"user_criteria[{$fieldNameLastActivity}][data][months]\"\n                      value=\"{$criteria.{$fieldNameLastActivity}.months}\"\n                      units=\"{{ phrase('th_usercriteria_months') }}\"\n                      size=\"5\" min=\"0\" step=\"1\" />\n        <xf:numberbox name=\"user_criteria[{$fieldNameLastActivity}][data][years]\"\n                      value=\"{$criteria.{$fieldNameLastActivity}.years}\"\n                      units=\"{{ phrase('th_usercriteria_years') }}\"\n                      size=\"5\" min=\"0\" step=\"1\" />\n    </xf:option>\n\n    <xf:set var=\"$fieldNameMaxLastActivity\" value=\"{$xf.options.thusercriteria_prefix}max_last_activity\" />\n    <xf:option name=\"user_criteria[{$fieldNameMaxLastActivity}][rule]\" value=\"{$fieldNameMaxLastActivity}\"\n               selected=\"{$criteria.{$fieldNameMaxLastActivity}}\"\n               label=\"{{ phrase('th_usercriteria_user_has_not_been_active_in_the_last_x') }}\" hint=\"{{ phrase('th_usercriteria_user_activity_in_the_last_x_hint') }}\">\n        <xf:numberbox name=\"user_criteria[{$fieldNameMaxLastActivity}][data][minutes]\"\n                      value=\"{$criteria.{$fieldNameMaxLastActivity}.minutes}\"\n                      units=\"{{ phrase('th_usercriteria_minutes') }}\"\n                      size=\"5\" min=\"0\" step=\"1\" />\n        <xf:numberbox name=\"user_criteria[{$fieldNameMaxLastActivity}][data][hours]\"\n                      value=\"{$criteria.{$fieldNameMaxLastActivity}.hours}\"\n                      units=\"{{ phrase('th_usercriteria_hours') }}\"\n                      size=\"5\" min=\"0\" step=\"1\" />\n        <xf:numberbox name=\"user_criteria[{$fieldNameMaxLastActivity}][data][days]\"\n                      value=\"{$criteria.{$fieldNameMaxLastActivity}.days}\"\n                      units=\"{{ phrase('th_usercriteria_days') }}\"\n                      size=\"5\" min=\"0\" step=\"1\" />\n        <xf:numberbox name=\"user_criteria[{$fieldNameMaxLastActivity}][data][weeks]\"\n                      value=\"{$criteria.{$fieldNameMaxLastActivity}.weeks}\"\n                      units=\"{{ phrase('th_usercriteria_weeks') }}\"\n                      size=\"5\" min=\"0\" step=\"1\" />\n        <xf:numberbox name=\"user_criteria[{$fieldNameMaxLastActivity}][data][months]\"\n                      value=\"{$criteria.{$fieldNameMaxLastActivity}.months}\"\n                      units=\"{{ phrase('th_usercriteria_months') }}\"\n                      size=\"5\" min=\"0\" step=\"1\" />\n        <xf:numberbox name=\"user_criteria[{$fieldNameMaxLastActivity}][data][years]\"\n                      value=\"{$criteria.{$fieldNameMaxLastActivity}.years}\"\n                      units=\"{{ phrase('th_usercriteria_years') }}\"\n                      size=\"5\" min=\"0\" step=\"1\" />\n    </xf:option>\n</xf:optgroup>"
}